(this["webpackJsonpreact-portfolio-project"]=this["webpackJsonpreact-portfolio-project"]||[]).push([[0],{708:function(e,t,c){},709:function(e,t,c){},710:function(e,t,c){"use strict";c.r(t);var s=c(4),a=c(134),n=c.n(a),r=c(6),i=c(59),l=(c(147),i.a.initializeApp({apiKey:"AIzaSyBwkCSpan8NdeCsfABvx5dCM3c6LA57S6w",authDomain:"anir-space.firebaseapp.com",projectId:"anir-space",storageBucket:"anir-space.appspot.com",messagingSenderId:"960671780325",appId:"1:1:960671780325:web:1d011ac184cc783801330c"})),o=l.firestore(),d=i.a.storage(),j=i.a.firestore.FieldValue.serverTimestamp,m=l.auth(),b=c(1),u=function(){return Object(b.jsx)("div",{id:"preloader",children:Object(b.jsx)("div",{id:"status",children:Object(b.jsxs)("div",{className:"spinner",children:[Object(b.jsx)("div",{className:"double-bounce1"}),Object(b.jsx)("div",{className:"double-bounce2"})]})})})},O=Object(s.createContext)(),x=function(e){var t=e.children,c=Object(s.useState)(null),a=Object(r.a)(c,2),n=a[0],i=a[1],l=Object(s.useState)(!0),d=Object(r.a)(l,2),x=d[0],h=d[1];Object(s.useEffect)((function(){n&&o.collection("users").doc(n.email).update({online:"ONLINE"})}),[n]),Object(s.useEffect)((function(){return m.onAuthStateChanged((function(e){i(e),h(!1)}))}),[]);var f={currentUser:n,signup:function(e,t){return m.createUserWithEmailAndPassword(e,t)},login:function(e,t){return m.signInWithEmailAndPassword(e,t)},logout:function(){return o.collection("users").doc(n.email).update({online:"OFFLINE",lastLoggedIn:j()}).finally((function(){return m.signOut()}))},resetPassword:function(e){return m.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)}};return Object(b.jsx)(O.Provider,{value:f,children:x?Object(b.jsx)(u,{}):t})},h=c(8),f=c(34),p=Object(s.createContext)(),v=function(e){var t=e.children,c=Object(s.useContext)(O).currentUser,a=Object(s.useState)([]),n=Object(r.a)(a,2),i=n[0],l=n[1],j=Object(s.useState)(""),m=Object(r.a)(j,2),u=m[0],x=m[1],v=Object(s.useState)(null),g=Object(r.a)(v,2),N=g[0],y=g[1],w=Object(s.useState)(0),S=Object(r.a)(w,2),C=S[0],k=S[1],E=Object(s.useState)(!1),U=Object(r.a)(E,2),I=U[0],P=U[1];Object(s.useEffect)((function(){return o.collection("users").onSnapshot((function(e){var t=e.docs.filter((function(e){return""!==e.data().username})).map((function(e){return Object(h.a)({docId:e.id},e.data())}));l(t)}))}),[]),Object(s.useEffect)((function(){if(c)return o.collection("users").doc(c.email).onSnapshot((function(e){e.exists&&y(Object(h.a)({docId:e.id},e.data()))}))}),[c]);var L={updateUserProfile:function(e){if(c){P(!0);var t=o.collection("users").doc(c.email);o.collection("users").where("username","==",e.username).get().then((function(c){var s=c.docs.map((function(e){return Object(h.a)({docId:e.id},e.data())}));s.length>0||(t.update({username:e.username}).finally((function(){return P(!1)})),x("user was updated successfully"))}));var s=e.file;if(s&&["image/png","image/jpeg"].includes(s.type)){var a=d.ref(c.uid);a.put(s).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;k(t)}),(function(e){return P(!1)}),(function(){a.getDownloadURL().then((function(e){t.update({photoURL:e}).then((function(){return P(!1)})).finally((function(){x("user profile image was updated successfully"),k(0)}))}))}))}t.update({bio:e.bio,address:e.address,birthDate:e.birthDate}).then((function(){return P(!1)})).finally((function(){x("user profile info was updated successfully")})),setTimeout((function(){x(null)}),2500)}},users:i,isUserExists:function(e){return o.collection("users").where("username","==",e).get()},message:u,user:N,progress:C,updateSkill:function(e){P(!0),o.collection("users").doc(c.email).update({skills:e}).finally((function(){return P(!1)}))},updateExperience:function(e){P(!0),o.collection("users").doc(c.email).update({experience:e}).finally((function(){return P(!1)}))},addProject:function(e,t){P(!0);var s=o.collection("users").doc(c.email),a=e.projectImage;if(a&&["image/png","image/jpeg"].includes(a.type)){var n=d.ref(a.name+c.uid);n.put(a).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;k(t)}),(function(e){return P(!1)}),(function(){n.getDownloadURL().then((function(c){s.update({projects:[].concat(Object(f.a)(t),[Object(h.a)(Object(h.a)({},e),{},{projectImage:c})])}).then((function(){return P(!1)})).finally((function(){x("user profile image was updated successfully"),k(0)}))}))}))}},removeProject:function(e){P(!0),o.collection("users").doc(c.email).update({projects:e}).then((function(){return P(!1)}))},changeUserBackground:function(e){if(c){P(!0);var t=o.collection("users").doc(c.email);if(e&&["image/png","image/jpeg"].includes(e.type)){var s=d.ref("images"+e.name+c.uid);s.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;k(t)}),(function(e){return P(!1)}),(function(){s.getDownloadURL().then((function(e){t.update({bgImage:e}).then((function(){return P(!1)})).finally((function(){return k(0)}))}))}))}}},loading:I,setLoading:P};return Object(b.jsx)(p.Provider,{value:L,children:t})},g=Object(s.createContext)(),N=function(e){var t=e.children,c=Object(s.useContext)(O).currentUser,a=Object(s.useContext)(p).user,n=Object(s.useState)([]),i=Object(r.a)(n,2),l=i[0],d=i[1],m=Object(s.useState)(null),u=Object(r.a)(m,2),x=u[0],f=u[1],v=Object(s.useState)({}),N=Object(r.a)(v,2),y=N[0],w=N[1];Object(s.useEffect)((function(){if(c)return o.collection("notifications").doc(c.email).onSnapshot((function(e){if(e.exists){var t=Object(h.a)({to:e.id},e.data());f(t)}}))}),[c]),Object(s.useEffect)((function(){if(c&&y)return o.collection("messages").orderBy("createdAt").onSnapshot((function(e){var t=e.docs.filter((function(e){return e.data().roomName.includes(c.email)&&e.data().roomName.includes(y.email)})).map((function(e){return Object(h.a)({docId:e.id},e.data())}));d(t)}))}),[c,y]);var S={startConversation:function(e){if((c||a)&&y){var t=o.collection("users"),s=t.doc(y.email),n=t.doc(c.email),r=y.email+" "+c.email,i={uid:c.uid,email:c.email,username:a.username,photoURL:a.photoURL,roomName:r,message:e,createdAt:j()};n.update({room:r}).then((function(){s.update({room:r}).then((function(){o.collection("messages").add(i).finally((function(){o.collection("notifications").doc(y.email).set({read:!1,from:i})}))}))}))}},messages:l,setSelectedUser:w,selectedUser:y,setNotifications:f,notifications:x,changeNotificationStatus:function(){o.collection("notifications").doc(c.email).update({read:!0,from:null})}};return Object(b.jsx)(g.Provider,{value:S,children:t})},y=Object(s.createContext)(),w=function(e){var t=e.children,c=Object(s.useContext)(O).currentUser,a=Object(s.useContext)(p).user,n=Object(s.useState)([]),i=Object(r.a)(n,2),l=i[0],m=i[1],u=Object(s.useState)(0),x=Object(r.a)(u,2),v=x[0],g=x[1],N=Object(s.useState)(!1),w=Object(r.a)(N,2),S=w[0],C=w[1];Object(s.useEffect)((function(){return o.collection("forum").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(h.a)({docId:e.id},e.data())}));m(t)}))}),[]);var k={posts:l,createPost:function(e){if(c||a.username){C(!0);var t=o.collection("forum"),s=e.postImage;s||t.add({post:e,author:a.email,comments:[],createdAt:j()}).then((function(){return C(!1)})).finally((function(){window.location="/posts"}));if(s&&["image/png","image/jpeg"].includes(s.type)){var n=d.ref(e.postTitle+c.uid);n.put(s).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;g(t)}),(function(e){return C(!1)}),(function(){n.getDownloadURL().then((function(c){t.add({post:Object(h.a)(Object(h.a)({},e),{},{postImage:c}),author:a.email,comments:[],createdAt:j()}).then((function(){return C(!1)})).finally((function(){window.location="/posts"}))}))}))}}},isPostExists:function(e){return o.collection("forum").doc(e)},addComment:function(e,t){C(!0);var c=Date.now(),s={userEmail:a.email,comment:t,createdAt:c},n=o.collection("forum").doc(e.docId);n.get().then((function(e){e.exists&&n.update({comments:[].concat(Object(f.a)(e.data().comments),[s])}).finally((function(){return C(!1)}))}))},progress:v,loading:S};return Object(b.jsx)(y.Provider,{value:k,children:t})},S=c(9),C=c(13),k=c(33),E=c(55),U=function(){var e=Object(s.useContext)(O),t=e.currentUser,c=e.logout,a=Object(s.useContext)(p).user,n=Object(s.useContext)(g),i=n.setNotifications,l=n.notifications,o=n.setSelectedUser,d=n.changeNotificationStatus,j=Object(C.g)(),m=Object(s.useState)(!1),u=Object(r.a)(m,2),x=u[0],f=u[1],v=function(){(null===l||void 0===l?void 0:l.from)&&Promise.allSettled([o(Object(h.a)({},l.from)),i({read:!0,from:null}),d(),document.title="DevBook | Portfolio"]).then((function(){j.push("/chat-room")}))};return Object(s.useEffect)((function(){if(window.Notification)if("granted"===Notification.permission){if(l&&l.from&&l.to.includes(t.email)){var e={body:l.from.message,icon:l.from.photoURL},c=new Notification("New message from ".concat(l.from.username),e);document.title="".concat(l.from.username," sent you a message"),c.onclick=function(){return v}}}else Notification.requestPermission().then((function(e){"denied"===e&&console.log("User blocked notifications.")})).catch((function(e){console.error(e)}));else console.log("Browser does not support notifications.")}),[l]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{id:"topnav",className:"defaultscroll sticky bg-white",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(S.b,{to:"/",className:"logo",children:Object(b.jsx)("div",{children:Object(b.jsx)("h1",{children:"ANIR SPACE"})})}),Object(b.jsx)("div",{style:{display:"block",position:"unset"},id:"navigation",children:Object(b.jsxs)("ul",{className:"navigation-menu",children:[Object(b.jsx)("li",{children:Object(b.jsx)(S.b,{to:"/posts",className:"sub-menu-item",children:"Forum"})}),t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"menu-item",children:Object(b.jsx)(S.b,{to:"/chat-room",children:"chat room"})}),Object(b.jsx)("li",{className:"menu-item",children:Object(b.jsx)(S.b,{to:"/profile",children:"Settings"})}),a&&a.username&&Object(b.jsx)("li",{className:"menu-item",children:Object(b.jsx)(S.b,{to:"/p/".concat(a.username),children:a.username})}),Object(b.jsx)("li",{className:"menu-item buy-button",children:Object(b.jsxs)("button",{onClick:v,className:"btn text-primary btn-notification",children:[Object(b.jsx)(E.a,{}),l&&l.from&&Object(b.jsx)("span",{className:"notification"})]})}),Object(b.jsx)("li",{className:"menu-item buy-button",children:Object(b.jsx)("button",{onClick:function(){f(!0),c().finally((function(){f(!1)}))},className:"btn btn-sm btn-soft-primary",children:x?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"LOGOUT"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"menu-item",children:Object(b.jsx)(S.b,{to:"/sign-up",children:"sign up"})}),Object(b.jsx)("li",{className:"menu-item ",children:Object(b.jsx)(S.b,{to:"/log-in",children:"log in"})})]})]})})]})})})},I=c(56),P=function(){return Object(b.jsx)("footer",{className:"footer footer-bar mt-5",children:Object(b.jsx)("div",{className:"container text-center",children:Object(b.jsx)("div",{className:"row align-items-center",children:Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsx)("div",{className:"text-sm-start",children:Object(b.jsxs)("p",{className:"mb-0",children:["\xa9",(new Date).getFullYear()," ANIR SPACE . Developed with",Object(b.jsx)(I.b,{className:"mdi mdi-heart text-danger mx-4"})]})})})})})})},L=function(){var e=Object(s.useContext)(p).users;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsxs)("main",{className:"container mx-height ",children:[Object(b.jsx)("h3",{className:"display-3 mb-3",children:"Home"}),0===e.length&&Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("h3",{className:"display-6",children:Object(b.jsx)("i",{children:"No users yet"})})}),Object(b.jsx)("section",{className:"row",children:e.map((function(e,t){var c=e.username,s=e.online,a=e.photoURL,n=e.skills,r="ONLINE"===s?"bg-soft-success":"OFFLINE"===s?"bg-soft-danger":"bg-soft-warning";return Object(b.jsx)("article",{className:"col-lg-4 col-md-6 col-12 mt-4 pt-2",children:Object(b.jsx)("div",{className:"candidate-list card rounded border-0 shadow",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("ul",{className:"list-unstyled align-items-center",children:Object(b.jsx)("li",{className:"list-inline-item",children:Object(b.jsx)("span",{className:"".concat(r," badge rounded-pill"),children:Object(b.jsx)(k.a,{})})})}),Object(b.jsxs)("div",{className:"content text-center",children:[Object(b.jsx)("img",{src:a,alt:c,className:"avatar avatar-md-md shadow-md rounded-circle"}),Object(b.jsx)("ul",{className:"list-unstyled mb-1 mt-2"}),Object(b.jsx)(S.b,{to:"/p/".concat(c),className:"text-dark h5 name",children:c}),Object(b.jsx)("ul",{className:"list-unstyled mt-3",children:n&&n.map((function(e){var t=e.id,c=e.language;return Object(b.jsx)("li",{className:"list-inline-item m-1",children:Object(b.jsx)("span",{className:"rounded bg-light py-1 px-2 text-muted small",children:c})},t)}))}),Object(b.jsx)("ul",{className:"list-unstyled mt-3"}),Object(b.jsx)("div",{className:"d-grid",children:Object(b.jsxs)(S.b,{to:"/p/".concat(c),className:"btn btn-soft-primary",children:["Read More",Object(b.jsx)("i",{className:"uil uil-angle-right-b align-middle"})]})})]})]})})},t)}))})]}),Object(b.jsx)(P,{})]})},D=c(15),F=function(){var e=Object(C.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"back-to-home rounded d-none d-sm-block",children:Object(b.jsx)(S.b,{to:"/",className:"btn btn-icon btn-soft-primary",children:Object(b.jsx)(D.a,{})})}),Object(b.jsx)("section",{className:"bg-home d-flex align-items-center",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row justify-content-center",children:Object(b.jsxs)("div",{className:"col-lg-8 col-md-12 text-center",children:[Object(b.jsx)("img",{src:"/images/404.svg",className:"img-fluid",alt:""}),Object(b.jsx)("div",{className:"text-uppercase mt-4 display-3",children:"Oh ! no"}),Object(b.jsx)("div",{className:"text-capitalize text-dark mb-4 error-page",children:"Page Not Found"}),Object(b.jsxs)("p",{className:"text-muted para-desc mx-auto",children:["Start working with",Object(b.jsx)("span",{className:"text-primary fw-bold",children:" DevBook "}),"that can provide everything you need to generate awareness, drive traffic, connect."]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-md-12 text-center",children:[Object(b.jsx)("button",{onClick:function(){return e.goBack()},className:"btn btn-soft-primary mt-4 ms-2",children:"Go To Back"}),Object(b.jsx)(S.b,{to:"/",className:"btn btn-primary mt-4 ms-2",children:"Go To Home"})]})})]})})]})},A=function(){var e=Object(s.useContext)(O).currentUser,t=Object(s.useContext)(p),c=t.progress,a=t.updateUserProfile,n=t.message,i=t.user,l=t.updateSkill,o=t.updateExperience,d=t.addProject,j=t.removeProject,m=t.loading,u=t.setLoading,x=Object(s.useState)({username:"",bio:"",address:"",file:null,birthDate:"",skills:[]}),v=Object(r.a)(x,2),g=v[0],N=v[1],y=g.username,w=g.bio,S=g.address,C=g.birthDate,k=g.skills,E=g.experience,I=g.projects,L=Object(s.useState)(""),F=Object(r.a)(L,2),A=F[0],T=F[1],R=Object(s.useState)(50),B=Object(r.a)(R,2),Y=B[0],M=B[1],q=Object(s.useState)([]),H=Object(r.a)(q,2),z=H[0],J=H[1],_=Object(s.useState)(""),V=Object(r.a)(_,2),G=V[0],W=V[1],K=Object(s.useState)(""),$=Object(r.a)(K,2),Q=$[0],X=$[1],Z=Object(s.useState)(""),ee=Object(r.a)(Z,2),te=ee[0],ce=ee[1],se=Object(s.useState)(""),ae=Object(r.a)(se,2),ne=ae[0],re=ae[1],ie=Object(s.useState)([]),le=Object(r.a)(ie,2),oe=le[0],de=le[1],je=Object(s.useState)(""),me=Object(r.a)(je,2),be=me[0],ue=me[1],Oe=Object(s.useState)(""),xe=Object(r.a)(Oe,2),he=xe[0],fe=xe[1],pe=Object(s.useState)(null),ve=Object(r.a)(pe,2),ge=ve[0],Ne=ve[1],ye=Object(s.useState)(""),we=Object(r.a)(ye,2),Se=we[0],Ce=we[1],ke=Object(s.useState)([]),Ee=Object(r.a)(ke,2),Ue=Ee[0],Ie=Ee[1];return Object(s.useEffect)((function(){i&&(N({username:i.username||"",bio:i.bio||"",address:i.address||"",birthDate:i.birthDate||"",skills:i.skills||[],experience:i.experience||[],projects:i.projects||[]}),J(i.skills||[]),de(i.experience||[]),Ie(i.projects||[]))}),[i,u]),console.log(m),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsxs)("section",{className:"container mx-height ",children:[Object(b.jsx)("h3",{className:"display-3",children:"Profile"}),n&&Object(b.jsx)("div",{className:"alert alert-success",children:n}),i&&Object(b.jsx)("img",{width:"100",className:"mb-3 img-thumbnail",src:i.photoURL,alt:i.username}),c>0&&Object(b.jsx)("div",{className:"progress mb-3",children:Object(b.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100",style:{width:c+"%"},children:c.toFixed(1)+"%"})}),Object(b.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==y.trim()&&(u(!0),a(g))}(e)},className:"card mb-3",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:"User Info"}),Object(b.jsx)("input",{disabled:!0,value:e.email,type:"email",className:"form-control mb-3"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return N(Object(h.a)(Object(h.a)({},g),{},{username:t.value}))},value:y,placeholder:"username",className:"form-control mb-3",type:"text"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return N(Object(h.a)(Object(h.a)({},g),{},{bio:t.value}))},value:w,placeholder:"bio",type:"text",className:"form-control mb-3"}),Object(b.jsx)("textarea",{onChange:function(e){var t=e.target;return N(Object(h.a)(Object(h.a)({},g),{},{address:t.value}))},value:S,placeholder:"Address",className:"form-control mb-3"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return N(Object(h.a)(Object(h.a)({},g),{},{file:t.files[0]}))},type:"file",className:"form-control mb-3"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return N(Object(h.a)(Object(h.a)({},g),{},{birthDate:t.value}))},value:C,type:"date",className:"form-control mb-3"}),Object(b.jsx)("button",{disabled:m,className:"btn btn-primary mb-3",children:m?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Save"})]})}),Object(b.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==A.trim()&&(u(!0),g.skills=[].concat(Object(f.a)(k),[{id:Date.now(),language:A,percentage:Y}]),l(g.skills),M(50))}(e)},className:"card mb-3",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:"Skills"}),Object(b.jsxs)("label",{htmlFor:"lang",children:["Language - ",A]}),Object(b.jsxs)("select",{defaultValue:"select-value",onChange:function(e){var t=e.target;return T(t.value)},className:"form-select mb-3",id:"lang",children:[Object(b.jsx)("option",{disabled:!0,value:"select-value",children:"Select an Option"}),Object(b.jsx)("option",{value:"HTML",children:"HTML"}),Object(b.jsx)("option",{value:"CSS",children:"CSS"}),Object(b.jsx)("option",{value:"JS",children:"JS"}),Object(b.jsx)("option",{value:"PHP",children:"PHP"}),Object(b.jsx)("option",{value:"REACTJS",children:"REACTJS"}),Object(b.jsx)("option",{value:"LARAVEL",children:"LARAVEL"})]}),Object(b.jsxs)("label",{htmlFor:"percent",children:["Percentage - ",Y,"%"]}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return M(t.value)},id:"percent",value:Y,className:"form-range",type:"range",min:"0",max:"100"}),Object(b.jsx)("h5",{children:"Skills List"}),0===z.length&&"no skills yet",Object(b.jsx)("ul",{className:"list-group mb-3",children:z.map((function(e){var t=e.language,c=e.percentage,s=e.id;return Object(b.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[t," -",c,"%",Object(b.jsx)("button",{onClick:function(){J(z.filter((function(e){return e.id!==s}))),l(z.filter((function(e){return e.id!==s})))},type:"button",className:"btn btn-sm btn-outline-danger",children:Object(b.jsx)(D.d,{})})]},s)}))}),Object(b.jsx)("button",{disabled:m,className:"btn btn-primary mb-3",children:m?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Save"})]})}),Object(b.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),u(!0),g.experience=[].concat(Object(f.a)(E),[{id:Date.now(),year:G,title:Q,company:te,description:ne}]),o(g.experience),W(""),X(""),ce(""),re("")}(e)},className:"card mb-3",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:"Experience"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return W(t.value)},value:G,placeholder:"Year",className:"form-control mb-3",type:"text"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return X(t.value)},value:Q,placeholder:"Title",className:"form-control mb-3",type:"text"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return ce(t.value)},value:te,placeholder:"Company",className:"form-control mb-3",type:"text"}),Object(b.jsx)("textarea",{onChange:function(e){var t=e.target;return re(t.value)},value:ne,placeholder:"Description",className:"form-control mb-3",type:"text"}),Object(b.jsx)("h5",{children:"Exp List"}),0===oe.length&&"no experience yet",Object(b.jsx)("ul",{className:"list-group mb-3",children:oe&&oe.map((function(e,t){var c=e.year,s=e.title,a=e.id;return Object(b.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[c,", ",s," - ",t+1,Object(b.jsx)("button",{onClick:function(){de(E.filter((function(e){return e.id!==a}))),o(E.filter((function(e){return e.id!==a})))},type:"button",className:"btn btn-sm btn-outline-danger",children:Object(b.jsx)(D.d,{})})]},a)}))}),Object(b.jsx)("button",{disabled:m,className:"btn btn-primary mb-3",children:m?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Save"})]})}),Object(b.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),u(!0);var t={id:Date.now(),projectTitle:be,projectUrl:he,projectDescription:Se,projectImage:ge};d(t,I)}(e)},className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:"Projects"}),Object(b.jsx)("input",{value:be,onChange:function(e){var t=e.target;return ue(t.value)},placeholder:"Title",className:"form-control mb-3",type:"text"}),Object(b.jsx)("input",{value:he,onChange:function(e){var t=e.target;return fe(t.value)},placeholder:"Url",className:"form-control mb-3",type:"text"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return Ne(t.files[0])},placeholder:"Image",className:"form-control mb-3",type:"file"}),Object(b.jsx)("textarea",{value:Se,onChange:function(e){var t=e.target;return Ce(t.value)},placeholder:"Description",className:"form-control mb-3"}),Object(b.jsx)("h5",{children:"Project List"}),0===Ue.length&&"no projects yet",Object(b.jsx)("ul",{className:"list-group mb-3",children:Ue.map((function(e){return Object(b.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[e.projectTitle,Object(b.jsx)("button",{onClick:function(){Ie(Ue.filter((function(t){return t.id!==e.id}))),j(Ue.filter((function(t){return t.id!==e.id})))},type:"button",className:"btn btn-sm btn-outline-danger",children:Object(b.jsx)(D.d,{})})]},e.id)}))}),Object(b.jsx)("button",{disabled:m,className:"btn btn-primary mb-3",children:m?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Save"})]})})]}),Object(b.jsx)(P,{})]})},T=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),l=i[0],o=i[1],d=Object(s.useState)(""),j=Object(r.a)(d,2),m=j[0],u=j[1],x=Object(s.useState)(!1),h=Object(r.a)(x,2),f=h[0],p=h[1],v=Object(s.useContext)(O).login,g=Object(C.g)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"back-to-home rounded d-none d-sm-block",children:Object(b.jsx)(S.b,{to:"/",className:"btn btn-icon btn-soft-primary",children:Object(b.jsx)(D.a,{})})}),Object(b.jsx)("section",{className:"bg-home d-flex align-items-center",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-lg-7 col-md-6",children:Object(b.jsx)("div",{className:"me-lg-5",children:Object(b.jsx)("img",{src:"images/user/login.svg",className:"img-fluid d-block mx-auto",alt:""})})}),Object(b.jsx)("div",{className:"col-lg-5 col-md-6",children:Object(b.jsx)("div",{className:"card login-page bg-white shadow rounded border-0",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-title text-center",children:"Login"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),u("");try{v(c,l).then((function(){g.push("/")})).catch((function(e){u(e.message)})).finally((function(){p(!1)}))}catch(t){u(t.message)}},className:"login-form mt-4",children:[m&&Object(b.jsx)("div",{className:"alert alert-danger",children:m}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Your Email ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.c,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},required:!0,id:"email",type:"email",placeholder:"Enter your email here",className:"form-control ps-5",name:"email"})]})]})}),Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Password ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.b,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:l,onChange:function(e){return o(e.target.value)},required:!0,id:"password",name:"password",type:"password",placeholder:"Enter your password here",className:"form-control ps-5"})]})]})}),Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsx)("div",{className:"d-flex justify-content-between",children:Object(b.jsx)("p",{className:"forgot-pass mb-3",children:Object(b.jsx)(S.b,{to:"/",className:"text-dark fw-bold",children:"Forgot password ?"})})})}),Object(b.jsx)("div",{className:"col-lg-12 mb-0",children:Object(b.jsx)("div",{className:"d-grid",children:Object(b.jsx)("button",{disabled:f,type:"submit",className:"btn btn-primary",children:f?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Log in"})})}),Object(b.jsx)("div",{className:"col-12 text-center",children:Object(b.jsxs)("p",{className:"mb-0 mt-3",children:[Object(b.jsx)("small",{className:"text-dark me-2",children:"Don't have an account ?"}),Object(b.jsx)(S.b,{to:"/sign-up",className:"text-dark fw-bold",children:"Sign Up"})]})})]})]})]})})})]})})})]})},R=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),l=i[0],d=i[1],m=Object(s.useState)(""),u=Object(r.a)(m,2),x=u[0],h=u[1],f=Object(s.useState)(""),p=Object(r.a)(f,2),v=p[0],g=p[1],N=Object(s.useState)(""),y=Object(r.a)(N,2),w=y[0],C=y[1],k=Object(s.useState)(!1),E=Object(r.a)(k,2),U=E[0],I=E[1],P=Object(s.useContext)(O).signup;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"back-to-home rounded d-none d-sm-block",children:Object(b.jsx)(S.b,{to:"/",className:"btn btn-icon btn-soft-primary",children:Object(b.jsx)(D.a,{})})}),Object(b.jsx)("section",{className:"bg-auth-home d-table w-100",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-lg-7 col-md-6",children:Object(b.jsx)("div",{className:"me-lg-5",children:Object(b.jsx)("img",{src:"images/user/signup.svg",className:"img-fluid d-block mx-auto",alt:""})})}),Object(b.jsx)("div",{className:"col-lg-5 col-md-6",children:Object(b.jsx)("div",{className:"card shadow rounded border-0",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-title text-center",children:"Sign up"}),Object(b.jsxs)("form",{className:"login-form mt-4",onSubmit:function(e){if(e.preventDefault(),x.trim()!==v.trim())return C("Passwords do not match \ud83d\ude2d\ud83d\ude2d");if(""===l.trim())return C("Username is Required");I(!0),C("");try{o.collection("users").where("username","==",l).get().then((function(e){var t=e.docs.map((function(e){return e.data()}));(null===t||void 0===t?void 0:t.length)<=0?P(c,x).then((function(e){var t=e.user;o.collection("users").doc(c).set({username:l,bio:"",address:"",birthDate:"",photoURL:"https://firebasestorage.googleapis.com/v0/b/react-dev-book.appspot.com/o/default%2Fdefault.jpg?alt=media&token=beb80150-a8da-46f0-908f-8cbfb7ad2f4c",uid:t.uid,email:c,bgImage:"/images/enterprise.png",lastLoggedIn:j()}).then((function(){window.location="/profile"}))})).catch((function(e){C(e.message)})).finally((function(){I(!1)})):(C("Username Already Taken "),I(!1))})).catch((function(e){C(e)}))}catch(t){C(t.message)}},children:[w&&Object(b.jsx)("div",{className:"alert alert-danger",children:w}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Your Username ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.e,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:l,onChange:function(e){return d(e.target.value)},required:!0,id:"username",name:"username",type:"text",placeholder:"Enter your username here",className:"form-control ps-5"})]})]})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Your Email ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.c,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},required:!0,id:"email",name:"email",type:"email",placeholder:"Enter your email here",className:"form-control ps-5"})]})]})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Password ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.b,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:x,onChange:function(e){return h(e.target.value)},required:!0,id:"password",name:"password",type:"password",className:"form-control ps-5",placeholder:"Enter your password here"})]})]})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Confirm Password",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.b,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:v,onChange:function(e){return g(e.target.value)},id:"password-confirmation",name:"password-confirmation",type:"password",className:"form-control ps-5",placeholder:"Confirm Password",required:!0})]})]})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)("div",{className:"d-grid",children:Object(b.jsx)("button",{type:"submit",disabled:U,className:"btn btn-primary",children:U?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Register"})})}),Object(b.jsx)("div",{className:"mx-auto",children:Object(b.jsxs)("p",{className:"mb-0 mt-3",children:[Object(b.jsx)("small",{className:"text-dark me-2",children:"Already have an account ?"}),Object(b.jsx)(S.b,{to:"log-in",className:"text-dark fw-bold",children:"Log in"})]})})]})]})]})})})]})})})]})},B=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)(""),i=Object(r.a)(n,2),l=i[0],o=i[1],d=Object(s.useState)(""),j=Object(r.a)(d,2),m=j[0],u=j[1],x=Object(s.useState)(!1),h=Object(r.a)(x,2),f=h[0],p=h[1],v=Object(s.useContext)(O).resetPassword;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"back-to-home rounded d-none d-sm-block",children:Object(b.jsx)(S.b,{to:"/",className:"btn btn-icon btn-soft-primary",children:Object(b.jsx)(D.a,{})})}),Object(b.jsx)("section",{className:"bg-home d-flex align-items-center",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row align-items-center",children:[Object(b.jsx)("div",{className:"col-lg-7 col-md-6",children:Object(b.jsx)("div",{className:"me-lg-5",children:Object(b.jsx)("img",{src:"images/user/recovery.svg",className:"img-fluid d-block mx-auto",alt:""})})}),Object(b.jsx)("div",{className:"col-lg-5 col-md-6",children:Object(b.jsx)("div",{className:"card shadow rounded border-0",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-title text-center",children:"Recover Account"}),Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault();try{u(""),o(""),p(!0),v(c).then((function(){u("Check your email for further instructions \ud83d\ude0a\ud83d\ude0a")})).catch((function(e){o(e.message)})).finally((function(){p(!1)}))}catch(t){o(t.message)}},className:"login-form mt-4",children:[m&&Object(b.jsx)("div",{className:"alert alert-success",children:m}),l&&Object(b.jsx)("div",{className:"alert alert-danger",children:l}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-lg-12",children:[Object(b.jsx)("p",{className:"text-muted",children:"Please enter your email address. You will receive a link to create a new password via email."}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsxs)("label",{className:"form-label",children:["Email address ",Object(b.jsx)("span",{className:"text-danger",children:"*"})]}),Object(b.jsxs)("div",{className:"form-icon position-relative",children:[Object(b.jsx)(D.c,{className:"fea icon-sm icons"}),Object(b.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},required:!0,id:"email",name:"email",type:"email",className:"form-control ps-5",placeholder:"Enter Your Email Address"})]})]})]}),Object(b.jsx)("div",{className:"col-lg-12",children:Object(b.jsx)("div",{className:"d-grid",children:Object(b.jsx)("button",{className:"btn btn-primary",disabled:f,type:"submit",children:f?Object(b.jsx)("div",{className:"d-flex justify-content-center",children:Object(b.jsx)("div",{className:"spinner-border"})}):"Send"})})}),Object(b.jsx)("div",{className:"mx-auto",children:Object(b.jsxs)("p",{className:"mb-0 mt-3",children:[Object(b.jsx)("small",{className:"text-dark me-2",children:"Remember your password ?"}),Object(b.jsx)(S.b,{to:"/log-in",className:"text-dark fw-bold",children:"Log in"})]})})]})]})]})})})]})})})]})},Y=function(e){var t=e.skills;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h4",{className:"mt-lg-5 mt-4",children:"Skills :"}),t?t.map((function(e){var t=e.language,c=e.percentage,s=e.id;return Object(b.jsxs)("div",{className:"progress-box mt-4",children:[Object(b.jsx)("h6",{className:"title text-muted",children:t}),Object(b.jsx)("div",{className:"progress",children:Object(b.jsx)("div",{className:"progress-bar position-relative bg-primary",style:{width:c+"%"},children:Object(b.jsxs)("div",{className:"progress-value d-block text-muted h6",children:[c,"%"]})})})]},s)})):Object(b.jsx)("h5",{children:Object(b.jsx)("i",{children:"No skills"})})]})},M=function(e){var t=e.userInfo,c=t.skills,a=t.address,n=t.bio,r=t.birthDate,i=t.email,l=t.photoURL,o=t.username,d=t.experience,j=t.projects,m=t.bgImage,u=t.online,x=Object(C.g)(),f=Object(s.useContext)(p),v=f.changeUserBackground,N=f.progress,y=Object(s.useContext)(g).setSelectedUser,w=Object(s.useContext)(O).currentUser;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"mx-height",children:[Object(b.jsx)("section",{style:{backgroundImage:"url('".concat(m,"')")},className:"bg-half-260 d-table w-100",children:Object(b.jsx)("div",{className:"bg-overlay relative",children:(null===w||void 0===w?void 0:w.email)===i&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"bg-image",style:{fontSize:"16px"},className:"m-2 btn-edit-background btn btn-sm btn-warning",children:N?"Uploading ".concat(N.toFixed(1),"% "):Object(b.jsx)(I.a,{})}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return v(t.files[0])},hidden:!0,id:"bg-image",type:"file"})]})})}),Object(b.jsx)("section",{className:"section",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg-4 col-md-5 col-12",children:Object(b.jsxs)("div",{className:"card job-profile shadow border-0",children:[Object(b.jsxs)("div",{className:"text-center py-5 border-bottom rounded-top",children:[Object(b.jsx)("img",{src:l,className:"  avatar avatar-medium mx-auto rounded-circle shadow d-block",alt:""}),Object(b.jsxs)("h5",{className:"mt-3 mb-0",children:[o,Object(b.jsx)("span",{className:"ONLINE"===u?"text-success":"OFFLINE"===u?"text-danger":"text-warning",children:Object(b.jsx)(k.a,{style:{fontSize:"25px"}})})]}),Object(b.jsx)("p",{className:"text-muted mb-0",children:"Senior Web Developer"})]}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:"Personal Details :"}),Object(b.jsxs)("ul",{className:"list-unstyled",children:[Object(b.jsxs)("li",{className:"h6",children:[Object(b.jsx)("span",{className:"text-muted",children:"Email :"}),i]}),Object(b.jsxs)("li",{className:"h6",children:[Object(b.jsx)("span",{className:"text-muted",children:"D.O.B. :"}),r]}),Object(b.jsxs)("li",{className:"h6",children:[Object(b.jsx)("span",{className:"text-muted",children:"Address :"}),a]})]}),Object(b.jsx)("div",{className:"d-grid",children:Object(b.jsxs)("button",{onClick:function(){Promise.allSettled([y(Object(h.a)({},t))]).then((function(){x.push("/chat-room")}))},className:"btn btn-primary",children:[Object(b.jsx)(E.b,{className:"align-middle mx-3"}),"Contact Me"]})})]})]})}),Object(b.jsx)("div",{className:"col-lg-8 col-md-7 col-12 mt-4 mt-sm-0 pt-2 pt-sm-0",children:Object(b.jsxs)("div",{className:"ms-lg-4",children:[Object(b.jsx)("h4",{children:"About Me:"}),Object(b.jsx)("p",{className:"text-muted mb-0",children:n}),Object(b.jsx)("h4",{className:"mt-lg-5 mt-4",children:"Experience :"}),Object(b.jsx)("div",{className:"row",children:null===d||void 0===d?void 0:d.map((function(e,t){var c=e.year,s=e.title,a=e.company,n=e.description;return Object(b.jsx)("div",{className:"col-lg-12 mt-4 pt-2",children:Object(b.jsxs)("div",{className:"d-flex",children:[Object(b.jsx)("div",{className:"company-logo text-muted h6 me-3 text-center",children:c}),Object(b.jsxs)("div",{className:"flex-1",children:[Object(b.jsx)("h5",{className:"title mb-0",children:s}),Object(b.jsx)("small",{className:"text-muted company-university",children:a}),Object(b.jsx)("p",{className:"text-muted mt-2 mb-0",children:n})]})]})},t)}))}),Object(b.jsx)(Y,{skills:c}),Object(b.jsx)("h4",{className:"mt-lg-5 mt-4",children:"Projects :"}),Object(b.jsx)("section",{className:"row",children:j&&j.map((function(e){var t=e.id,c=e.projectTitle,s=e.projectUrl,a=e.projectDescription,n=e.projectImage;return Object(b.jsx)("article",{className:"col-md-6 col-12 mt-4 pt-2",children:Object(b.jsx)("div",{className:"card border-0 work-container work-classic",children:Object(b.jsxs)("div",{className:"card-body p-0",children:[Object(b.jsx)("a",{target:"_blank",href:s,rel:"noreferrer",children:Object(b.jsx)("img",{src:n,alt:c,className:"img-fluid rounded work-image"})}),Object(b.jsxs)("div",{className:"content pt-3",children:[Object(b.jsx)("h5",{className:"mb-0",children:Object(b.jsx)("a",{target:"_blank",href:s,rel:"noreferrer",className:"text-dark title",children:c})}),Object(b.jsx)("p",{className:"text-muted tag mb-0",children:a})]})]})})},t)}))})]})})]})})})]})})},q=function(){var e=Object(C.h)().username,t=Object(s.useContext)(p).isUserExists,c=Object(s.useState)(!1),a=Object(r.a)(c,2),n=a[0],i=a[1],l=Object(s.useState)({}),o=Object(r.a)(l,2),d=o[0],j=o[1],m=Object(s.useState)(!0),O=Object(r.a)(m,2),x=O[0],f=O[1];return Object(s.useEffect)((function(){var c=!1;t(e).then((function(e){var t=e.docs.map((function(e){return Object(h.a)({docId:e.id},e.data())}));j(t[0]),c=t.length>0})).finally((function(){f(!1),i(c)}))}),[t,e]),x||n?x?Object(b.jsx)(u,{}):n?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsx)(M,{userInfo:d}),Object(b.jsx)(P,{})]}):void 0:Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("h1",{className:"display-1",children:"User not found"})})},H=c(57),z=["component"],J=function(e){var t=e.component,c=Object(H.a)(e,z),a=Object(s.useContext)(O).currentUser;return Object(b.jsx)(C.b,Object(h.a)(Object(h.a)({},c),{},{render:function(e){return a?Object(b.jsx)(t,Object(h.a)({},e)):Object(b.jsx)(C.a,{to:"/log-in"})}}))},_=c(40),V=c.n(_),G=function(){var e=Object(s.useContext)(O).currentUser,t=Object(s.useContext)(p).users,c=Object(s.useContext)(g),a=c.messages,n=c.startConversation,i=c.selectedUser,l=c.setSelectedUser,o=c.notifications,d=Object(s.useState)(""),j=Object(r.a)(d,2),m=j[0],u=j[1],x=Object(s.useState)(""),f=Object(r.a)(x,2),v=f[0],N=f[1],y=Object(s.useRef)();return Object(s.useEffect)((function(){y.current.scrollIntoView({behavior:"smooth"})}),[a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsx)("section",{className:"container mx-height ",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:" col-5 col-lg-5 col-md-12 my-5",children:Object(b.jsx)("article",{className:"card ",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("h5",{className:"card-title mb-0",children:["Users | ",null===t||void 0===t?void 0:t.length]}),Object(b.jsx)("ul",{className:"media-list list-unstyled mb-0",children:null===t||void 0===t?void 0:t.map((function(e){var t=e.uid,c=e.docId,s=e.online,a=e.photoURL,n=e.username;return Object(b.jsx)("li",{className:"mt-4",children:Object(b.jsxs)("div",{className:"d-flex  align-items-center",children:[Object(b.jsx)(S.b,{to:"/p/".concat(n),className:"pe-3",children:Object(b.jsx)("img",{className:"img-fluid avatar avatar-md-sm rounded-circle shadow",src:a,alt:n})}),Object(b.jsxs)("div",{className:"flex-1 commentor-detail",children:[Object(b.jsx)("h6",{className:"mb-0",children:Object(b.jsx)(S.b,{to:"/p/".concat(n),className:"text-dark media-heading",children:c})}),Object(b.jsx)("small",{className:"text-muted",children:Object(b.jsx)("button",{className:(null===i||void 0===i?void 0:i.uid)===t?"btn btn-sm btn-primary":"btn btn-sm btn-outline-primary",onClick:function(){return l(Object(h.a)(Object(h.a)({},e),{},{email:e.docId}))},children:n})})]}),Object(b.jsx)("span",{className:"ONLINE"===s?"text-success":"OFFLINE"===s?"text-danger":"text-warning",children:Object(b.jsx)(k.a,{})}),o&&o.from&&o.from.email.includes(c)&&Object(b.jsx)("span",{className:"text-danger",children:Object(b.jsx)(k.a,{})})]})},t)}))})]})})}),Object(b.jsx)("article",{className:"col-6 col-lg-6 col-md-12 my-5",children:Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"display-5",children:"Chat"}),v&&Object(b.jsx)("div",{className:"alert alert-warning",children:v}),Object(b.jsxs)("div",{className:"list-group mb-3",style:{maxHeight:"300px",minHeight:"300px",overflowY:"scroll",scrollBehavior:"smooth"},children:[!i.uid&&Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("h3",{className:"fw-light",children:"No Selected User"})}),a.map((function(c,s){var a=c.message,n=c.uid,r=c.email,i=c.createdAt,l=null===t||void 0===t?void 0:t.find((function(e){return e.docId===r}));return Object(b.jsxs)("section",{className:"list-group-item d-flex justify-content-between",children:[Object(b.jsxs)("article",{className:"d-flex align-items-center",children:[Object(b.jsxs)("div",{className:"d-flex align-items-start flex-column justify-content-center",children:[Object(b.jsx)("img",{className:"rounded-lg",width:"40",src:null===l||void 0===l?void 0:l.photoURL,alt:null===l||void 0===l?void 0:l.username}),Object(b.jsx)("small",{className:e.uid===n?"badge bg-primary my-2":"badge bg-warning my-2",children:null===l||void 0===l?void 0:l.username})]}),Object(b.jsx)("p",{className:"m-3 bg-light",children:a})]}),Object(b.jsx)("small",{className:"fw-bold",style:{fontSize:"10px"},children:V()(null===i||void 0===i?void 0:i.toDate(),"MMDDYY").fromNow()})]},s)})),Object(b.jsx)("span",{ref:y})]}),Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""===m.trim()?N("enter a message"):i.uid?(n(m),u(""),N("")):N("select a user to chat with"),setTimeout((function(){N("")}),2500)}(e)},children:[Object(b.jsx)("textarea",{autoFocus:!0,className:"form-control",placeholder:"Enter your message here !",type:"text",value:m,onChange:function(e){var t=e.target;return u(t.value)}}),Object(b.jsx)("div",{className:"d-flex my-2 flex-row-reverse",children:Object(b.jsx)("button",{className:"btn btn-soft-success ",children:"Send"})})]})]})})})]})}),Object(b.jsx)(P,{})]})},W=c(58),K=c.n(W),$=c(138),Q=c(30),X=c.n(Q),Z=c(712),ee=c(137),te=["node","inline","className","children"],ce={code:function(e){e.node;var t=e.inline,c=e.className,s=e.children,a=Object(H.a)(e,te),n=/language-(\w+)/.exec(c||"");return!t&&n?Object(b.jsx)(Z.a,Object(h.a)({style:ee.dark,language:n[1],PreTag:"div",children:String(s).replace(/\n$/,"")},a)):Object(b.jsx)("code",Object(h.a)({className:c},a))}},se=function(){var e=Object(s.useContext)(y).posts,t=Object(s.useContext)(p).users;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsxs)("main",{className:"container",children:[Object(b.jsxs)("nav",{className:"d-flex align-items-center justify-content-between",children:[Object(b.jsx)("h3",{className:"display-4",children:"Forum"}),Object(b.jsx)(S.b,{className:"btn btn-success",to:"/posts/create",children:"+ create your post"})]}),Object(b.jsx)("div",{className:"row my-5",children:null===e||void 0===e?void 0:e.map((function(e){var c=e.docId,s=e.author,a=e.post,n=e.comments,r=e.createdAt,i=null===t||void 0===t?void 0:t.find((function(e){return e.docId===s}));return Object(b.jsx)("div",{className:"col-12 mb-3",children:Object(b.jsx)("div",{className:"card shadow-md rounded-md",children:Object(b.jsxs)("div",{className:"card-body ",children:[Object(b.jsx)(S.b,{to:"post/".concat(c),children:Object(b.jsxs)("h1",{children:[a.postTitle,"?"]})}),Object(b.jsx)(X.a,{components:ce,children:a.postText}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{alt:null===i||void 0===i?void 0:i.username,src:null===i||void 0===i?void 0:i.photoURL,className:"img-fluid avatar avatar-ex-sm rounded-circle"}),Object(b.jsx)("span",{className:"mx-2",children:"Posted By"}),Object(b.jsx)(S.b,{to:"/p/".concat(null===i||void 0===i?void 0:i.username),children:null===i||void 0===i?void 0:i.username}),Object(b.jsx)("small",{className:"mx-2",children:r&&V()(r.toDate(),"MMDDYY").fromNow()})]}),Object(b.jsxs)("div",{className:"d-flex  align-items-center",children:[Object(b.jsx)("small",{style:{fontSize:"22px"},children:Object(b.jsx)($.a,{})}),null===n||void 0===n?void 0:n.length,"+"]})]})]})})},c)}))})]}),Object(b.jsx)(P,{})]})},ae=function(){var e=Object(s.useContext)(y),t=e.createPost,c=e.progress,a=e.loading,n=Object(s.useState)({postTitle:"",postText:"",postImage:null}),i=Object(r.a)(n,2),l=i[0],o=i[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsxs)("main",{className:"container mx-height ",children:[Object(b.jsx)("h1",{className:"display-4",children:"Create Post"}),Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==l.postTitle.trim()&&t(l)}(e)},children:[Object(b.jsx)("input",{value:l.postTitle,onChange:function(e){var t=e.target;return o(Object(h.a)(Object(h.a)({},l),{},{postTitle:t.value}))},className:"form-control mb-3",placeholder:"title",type:"text"}),Object(b.jsx)("input",{onChange:function(e){var t=e.target;return o(Object(h.a)(Object(h.a)({},l),{},{postImage:t.files[0]}))},className:"form-control mb-3",type:"file"}),Object(b.jsx)("textarea",{rows:"15",placeholder:"Enter more information ....",value:l.postText,onChange:function(e){var t=e.target;return o(Object(h.a)(Object(h.a)({},l),{},{postText:t.value}))},className:"form-control mb-3"}),Object(b.jsx)(X.a,{components:ce,children:l.postText}),Object(b.jsx)("button",{disabled:a,className:"btn btn-info",children:c?"Creating... ".concat(null===c||void 0===c?void 0:c.toFixed(1),"%"):"Create Post"})]})]}),Object(b.jsx)(P,{})]})},ne=function(){var e,t=Object(s.useContext)(O).currentUser,c=Object(C.h)().postId,a=Object(s.useContext)(y),n=a.isPostExists,i=a.addComment,l=Object(s.useState)(!1),o=Object(r.a)(l,2),d=o[0],j=o[1],m=Object(s.useState)({}),x=Object(r.a)(m,2),f=x[0],v=x[1],g=Object(s.useState)(!0),N=Object(r.a)(g,2),w=N[0],k=N[1],E=Object(s.useState)(""),I=Object(r.a)(E,2),L=I[0],D=I[1],F=Object(s.useContext)(p).users,A=null===F||void 0===F?void 0:F.find((function(e){return e.docId===f.author}));return Object(s.useEffect)((function(){var e=!1;n(c).get().then((function(t){t.exists?(e=!0,v(Object(h.a)({docId:t.id},t.data()))):(e=!1,console.log("No such document!"))})).finally((function(){k(!1),j(e)}))}),[n,c]),w||d?w?Object(b.jsx)(u,{}):d?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(U,{}),Object(b.jsxs)("main",{className:"container mx-height ",children:[Object(b.jsx)("div",{className:"row mb-3",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("h1",{className:"display-1",children:"Post"}),Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("div",{className:"d-flex flex-column",children:[(null===A||void 0===A?void 0:A.photoURL)&&Object(b.jsx)(S.b,{to:"/p/".concat(null===A||void 0===A?void 0:A.username),children:Object(b.jsx)("img",{className:"rounded-lg",width:"50",src:null===A||void 0===A?void 0:A.photoURL,alt:null===A||void 0===A?void 0:A.username})}),Object(b.jsx)(S.b,{to:"/p/".concat(null===A||void 0===A?void 0:A.username),children:Object(b.jsx)("p",{className:"text-uppercase",children:null===A||void 0===A?void 0:A.username})})]}),Object(b.jsx)("div",{className:"card my-5 ",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h3",{children:f.post.postTitle}),f.post.postImage&&Object(b.jsx)("img",{width:"200",src:f.post.postImage,alt:f.post.postTitle}),Object(b.jsx)(X.a,{components:ce,children:f.post.postText})]})})]})})]})}),Object(b.jsx)("div",{className:"card",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{children:"Leave A Comment :"}),t?Object(b.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t&&""!==L.trim()&&(i(f,L),D(""))}(e)},className:"mb-4",children:[Object(b.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)("textarea",{id:"comment",onChange:function(e){var t=e.target;return D(t.value)},value:L,className:"form-control mb-2",placeholder:"write your answer here !!"})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsx)(X.a,{components:ce,children:L})})]}),Object(b.jsx)("button",{disabled:w,className:"btn btn-sm btn-info",children:w?"Submitting ":"Submit"})]}):Object(b.jsx)(S.b,{to:"/log-in",children:"Log In"})]})}),Object(b.jsx)("ul",{className:"d-flex flex-column align-items-center media-list list-unstyled mb-0",children:null===f||void 0===f||null===(e=f.comments)||void 0===e?void 0:e.sort((function(e,t){return t.createdAt-e.createdAt})).map((function(e,t){var c=e.userEmail,s=e.comment,a=e.createdAt,n=null===F||void 0===F?void 0:F.find((function(e){return e.docId===c}));return Object(b.jsxs)("li",{style:{width:"90%"},className:"mt-4 card",children:[Object(b.jsx)("div",{className:"card-body d-flex justify-content-between",children:Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[Object(b.jsx)(S.b,{to:"/p/".concat(null===n||void 0===n?void 0:n.username),className:"pe-3",children:Object(b.jsx)("img",{src:null===n||void 0===n?void 0:n.photoURL,className:"img-fluid avatar avatar-md-sm rounded-circle shadow",alt:"img"})}),Object(b.jsx)("span",{className:(null===f||void 0===f?void 0:f.author)===c?"badge bg-success my-2":"badge bg-warning my-2",children:(null===f||void 0===f?void 0:f.author)===c?"Author":"User"})]}),Object(b.jsxs)("div",{className:"flex-1 commentor-detail",children:[Object(b.jsx)("h6",{className:"mb-0",children:Object(b.jsx)(S.b,{to:"/p/".concat(null===n||void 0===n?void 0:n.username),className:"text-dark media-heading",children:null===n||void 0===n?void 0:n.username})}),a&&V()(a).fromNow()]})]})}),Object(b.jsx)("p",{className:"fw-bold px-3 rounded",children:Object(b.jsx)(X.a,{components:ce,children:s})})]},t)}))})]}),Object(b.jsx)(P,{})]}):void 0:Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("h1",{className:"display-1",children:"Post not found"})})},re=function(){var e=Object(s.useContext)(O).currentUser;return Object(s.useEffect)((function(){if(e){var t=o.collection("users").doc(e.email);K.a.on("idle",(function(){return t.update({online:"BUSY"})})),K.a.on("wakeup",(function(){return t.update({online:"ONLINE"})})),K.a.setIdleDuration(240)}}),[e]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(S.a,{children:Object(b.jsxs)(C.d,{children:[Object(b.jsx)(C.b,{exact:!0,path:"/",component:L}),Object(b.jsx)(C.b,{path:"/log-in",component:T}),Object(b.jsx)(C.b,{path:"/sign-up",component:R}),Object(b.jsx)(C.b,{path:"/forgot-password",component:B}),Object(b.jsx)(J,{path:"/profile",component:A}),Object(b.jsx)(J,{path:"/chat-room",component:G}),Object(b.jsx)(C.b,{path:"/p/:username",component:q}),Object(b.jsx)(C.b,{exact:!0,path:"/posts",component:se}),Object(b.jsx)(J,{path:"/posts/create",component:ae}),Object(b.jsx)(C.b,{path:"/post/:postId",component:ne}),Object(b.jsx)(C.b,{path:"*",component:F})]})})})},ie=(c(707),c(708),c(709),document.getElementById("root"));n.a.render(Object(b.jsx)(x,{children:Object(b.jsx)(v,{children:Object(b.jsx)(w,{children:Object(b.jsx)(N,{children:Object(b.jsx)(re,{})})})})}),ie)}},[[710,1,2]]]);
//# sourceMappingURL=main.655a0081.chunk.js.map